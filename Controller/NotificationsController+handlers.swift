//
//  NotificationsController+handlers.swift
//  iLawyerNow
//
//  Created by Heriberto Prieto on 12/26/17.
//  Copyright Â© 2017 Heriberto Prieto. All rights reserved.
//

import UIKit

fileprivate func < <T : Comparable>(lhs: T?, rhs: T?) -> Bool {
    switch (lhs, rhs) {
    case let (l?, r?):
        return l < r
    case (nil, _?):
        return true
    default:
        return false
    }
}

// FIXME: comparison operators with optionals were removed from the Swift Standard Libary.
// Consider refactoring the code to use the non-optional operators.
fileprivate func > <T : Comparable>(lhs: T?, rhs: T?) -> Bool {
    switch (lhs, rhs) {
    case let (l?, r?):
        return l > r
    default:
        return rhs < lhs
    }
}

extension NotificationsController {
    @objc func handleRightBarButtonClick() {
        
    }
    
    @objc func handleReloadTable() {
        self.alerts = Array(self.alertsDictionary.values)
        self.alerts.sort(by: { (alert1, alert2) -> Bool in
            
            return alert1.timestamp?.int32Value > alert2.timestamp?.int32Value
        })
        //this will crash because of background thread, so lets call this on dispatch_async main thread
        DispatchQueue.main.async(execute: {
            self.tableView.reloadData()
        })
    }
}
